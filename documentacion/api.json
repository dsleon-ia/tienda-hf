{"openapi":"3.1.0","info":{"title":"Store API","description":"API REST para la gestión integral de un catálogo de productos y categorías de una tienda en línea.\n\n### Propósito\nEsta API permite a las aplicaciones cliente (Frontend Web, Mobile, etc.) realizar operaciones de comercio electrónico como:\n*   Explorar y buscar productos con filtros avanzados (precio, categoría, texto).\n*   Administrar el inventario y las categorías de productos.\n*   Auditar los cambios realizados en el catálogo para fines de seguridad y trazabilidad.\n\n### Módulos Principales\n*   **Catálogo**: Gestión de categorías y clasificación de productos.\n*   **Inventario**: CRUD completo de productos, control de stock y precios.\n*   **Auditoría**: Registro inmutable de todas las operaciones de escritura sobre los productos.","contact":{"name":"Desarrollador: Diego Saavedra","email":"dev@hfsolutions.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8081","description":"Servidor Local (Puerto 8081)"},{"url":"/","description":"Servidor Relativo (Proxy-safe)"}],"tags":[{"name":"Inventario","description":"Operaciones para la gestión del ciclo de vida de los productos (creación, edición, consulta y eliminación)"},{"name":"Catálogo","description":"Gestión de categorías para la clasificación de productos"},{"name":"Auditoría","description":"Consulta del historial de cambios y eventos del sistema (MongoDB)"}],"paths":{"/api/products/{id}":{"get":{"tags":["Inventario"],"summary":"Obtener producto por ID","description":"Recupera los detalles de un producto específico mediante su ID único.","operationId":"get","parameters":[{"name":"id","in":"path","description":"ID único del producto","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Producto encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"404":{"description":"Producto no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"RESOURCE_NOT_FOUND","message":"Producto no encontrado","path":"/api/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}}}},"put":{"tags":["Inventario"],"summary":"Actualizar información de producto","description":"Modifica los datos generales de un producto existente.","operationId":"update","parameters":[{"name":"id","in":"path","description":"ID del producto a actualizar","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductRequest"}}},"required":true},"responses":{"200":{"description":"Producto actualizado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"400":{"description":"Datos de entrada inválidos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":400,"error":"Bad Request","message":"El stock no puede ser negativo","path":"/api/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}},"404":{"description":"Producto o categoría no encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"Not Found","message":"Producto no encontrado","path":"/api/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al actualizar","path":"/api/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}}}},"delete":{"tags":["Inventario"],"summary":"Eliminar producto","description":"Realiza una eliminación lógica (soft delete) del producto, marcándolo como inactivo.","operationId":"delete","parameters":[{"name":"id","in":"path","description":"ID del producto a eliminar","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"Producto eliminado exitosamente"},"404":{"description":"Producto no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"Not Found","message":"Producto no encontrado","path":"/api/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al eliminar","path":"/api/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/categories/{id}":{"get":{"tags":["Catálogo"],"summary":"Obtener categoría por ID","description":"Recupera los detalles de una categoría específica.","operationId":"get_1","parameters":[{"name":"id","in":"path","description":"ID de la categoría","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Categoría encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"404":{"description":"Categoría no encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"RESOURCE_NOT_FOUND","message":"Categoría no encontrada","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}}}},"put":{"tags":["Catálogo"],"summary":"Actualizar categoría","description":"Modifica el nombre de una categoría existente.","operationId":"update_1","parameters":[{"name":"id","in":"path","description":"ID de la categoría","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Categoría actualizada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"400":{"description":"Datos inválidos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":400,"error":"Bad Request","message":"El nombre de la categoría no puede estar vacío","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}},"404":{"description":"Categoría no encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"Not Found","message":"Categoría no encontrada","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error inesperado","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}}}},"delete":{"tags":["Catálogo"],"summary":"Eliminar categoría","description":"Elimina una categoría del sistema. Solo es posible si no tiene productos asociados.","operationId":"delete_1","parameters":[{"name":"id","in":"path","description":"ID de la categoría","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"Categoría eliminada exitosamente"},"404":{"description":"Categoría no encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"Not Found","message":"Categoría no encontrada","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}},"400":{"description":"No se puede eliminar porque tiene productos asociados","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":400,"error":"Bad Request","message":"La categoría tiene productos asociados","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error inesperado","path":"/api/categories/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/products":{"get":{"tags":["Inventario"],"summary":"Listar productos paginados","description":"Obtiene una lista paginada de todos los productos activos (no eliminados).","operationId":"list","parameters":[{"name":"page","in":"query","description":"Número de página (0..N)","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"Cantidad de elementos por página","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Lista de productos recuperada exitosamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageProductResponse"}}}}}},"post":{"tags":["Inventario"],"summary":"Crear un nuevo producto","description":"Registra un producto en el catálogo asociado a una categoría existente.","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductRequest"}}},"required":true},"responses":{"201":{"description":"Producto creado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"400":{"description":"Datos de entrada inválidos (ej. precio negativo, título vacío)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":400,"error":"BUSINESS_RULE_VIOLATION","message":"El precio debe ser mayor a 0","path":"/api/products","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/categories":{"get":{"tags":["Catálogo"],"summary":"Listar todas las categorías","description":"Devuelve una lista completa de las categorías disponibles en el sistema.","operationId":"list_1","responses":{"200":{"description":"Lista de categorías recuperada exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryResponse"}}}}}}},"post":{"tags":["Catálogo"],"summary":"Crear nueva categoría","description":"Registra una nueva categoría en el sistema. El nombre debe ser único.","operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreateRequest"}}},"required":true},"responses":{"201":{"description":"Categoría creada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"400":{"description":"Nombre inválido o duplicado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":400,"error":"BUSINESS_RULE_VIOLATION","message":"La categoría 'Electrónica' ya existe","path":"/api/categories","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/products/{id}/stock":{"patch":{"tags":["Inventario"],"summary":"Actualizar stock","description":"Actualiza únicamente la cantidad de stock disponible de un producto.","operationId":"updateStock","parameters":[{"name":"id","in":"path","description":"ID del producto","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStockRequest"}}},"required":true},"responses":{"200":{"description":"Stock actualizado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"400":{"description":"Valor de stock inválido (negativo)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":400,"error":"Bad Request","message":"El stock no puede ser negativo","path":"/api/products/123e4567-e89b-12d3-a456-426614174000/stock","timestamp":"2023-10-01T12:00:00Z"}}}},"404":{"description":"Producto no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":404,"error":"Not Found","message":"Producto no encontrado","path":"/api/products/123e4567-e89b-12d3-a456-426614174000/stock","timestamp":"2023-10-01T12:00:00Z"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al actualizar stock","path":"/api/products/123e4567-e89b-12d3-a456-426614174000/stock","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/products/search":{"get":{"tags":["Inventario"],"summary":"Buscar por título","description":"Busca productos cuyo título contenga el texto proporcionado (búsqueda insensible a mayúsculas).","operationId":"search","parameters":[{"name":"q","in":"query","description":"Texto a buscar","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Número de página","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"Tamaño de página","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Resultados de búsqueda recuperados exitosamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageProductResponse"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error en búsqueda","path":"/api/products/search","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/products/price-range":{"get":{"tags":["Inventario"],"summary":"Filtrar por rango de precio","description":"Obtiene productos cuyo precio se encuentra dentro del rango especificado (inclusivo).","operationId":"priceRange","parameters":[{"name":"min","in":"query","description":"Precio mínimo","required":true,"schema":{"type":"number"}},{"name":"max","in":"query","description":"Precio máximo","required":true,"schema":{"type":"number"}},{"name":"page","in":"query","description":"Número de página","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"Tamaño de página","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Lista filtrada recuperada exitosamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageProductResponse"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al filtrar por precio","path":"/api/products/price-range","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/products/category/{categoryId}":{"get":{"tags":["Inventario"],"summary":"Filtrar por categoría","description":"Obtiene una lista paginada de productos pertenecientes a una categoría específica.","operationId":"byCategory","parameters":[{"name":"categoryId","in":"path","description":"ID de la categoría","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"page","in":"query","description":"Número de página","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"Tamaño de página","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Lista filtrada recuperada exitosamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageProductResponse"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al filtrar por categoría","path":"/api/products/category/987fcdeb-51a2-43d1-a5c6-987654321000","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/audit/products":{"get":{"tags":["Auditoría"],"summary":"Últimos movimientos","description":"Recupera los 100 registros de auditoría más recientes de todo el sistema.","operationId":"latest","responses":{"200":{"description":"Lista de movimientos recuperada exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductAudit"}}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al consultar últimos movimientos","path":"/api/audit/products","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/audit/products/{productId}":{"get":{"tags":["Auditoría"],"summary":"Historial de un producto","description":"Obtiene la traza completa de cambios (creación, actualizaciones, stock) de un producto específico, ordenados cronológicamente.","operationId":"byProduct","parameters":[{"name":"productId","in":"path","description":"ID del producto","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Historial recuperado exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductAudit"}}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al consultar auditoría","path":"/api/audit/products/123e4567-e89b-12d3-a456-426614174000","timestamp":"2023-10-01T12:00:00Z"}}}}}}},"/api/audit/actions/{action}":{"get":{"tags":["Auditoría"],"summary":"Filtrar por tipo de acción","description":"Busca eventos de auditoría según el tipo de operación realizada (CREATE, UPDATE, DELETE, etc.).","operationId":"byAction","parameters":[{"name":"action","in":"path","description":"Tipo de acción a consultar","required":true,"schema":{"type":"string","enum":["CREATE","UPDATE","DELETE","STOCK_UPDATE"]}}],"responses":{"200":{"description":"Lista filtrada recuperada exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductAudit"}}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"},"example":{"status":500,"error":"Internal Server Error","message":"Error al filtrar por acción","path":"/api/audit/actions/CREATE","timestamp":"2023-10-01T12:00:00Z"}}}}}}}},"components":{"schemas":{"UpdateProductRequest":{"type":"object","description":"Datos para actualizar un producto existente","properties":{"title":{"type":"string","description":"Título del producto","example":"Smartphone Samsung Galaxy S23 Ultra"},"description":{"type":"string","description":"Descripción detallada del producto","example":"Versión Ultra con S-Pen incluido."},"price":{"type":"number","description":"Precio unitario del producto. Debe ser mayor a 0.","example":1199.99},"stock":{"type":"integer","format":"int32","description":"Cantidad de stock disponible. No puede ser negativo.","example":30,"minimum":0},"categoryId":{"type":"string","format":"uuid","description":"ID único de la categoría a la que pertenece el producto","example":"123e4567-e89b-12d3-a456-426614174000"},"rating":{"type":"number","format":"double","description":"Calificación del producto (0-5)","example":4.8},"image":{"type":"string","description":"URL de la imagen del producto","example":"https://example.com/images/s23-ultra.jpg"}},"required":["categoryId","price","stock","title"]},"ProductResponse":{"type":"object","description":"Representación detallada de un producto","properties":{"id":{"type":"string","format":"uuid","description":"Identificador único del producto","example":"123e4567-e89b-12d3-a456-426614174000"},"title":{"type":"string","description":"Título del producto","example":"Smartphone Samsung Galaxy S23"},"description":{"type":"string","description":"Descripción detallada","example":"Teléfono móvil con 256GB de almacenamiento, 8GB RAM."},"price":{"type":"number","description":"Precio actual","example":899.99},"stock":{"type":"integer","format":"int32","description":"Stock disponible","example":50},"categoryId":{"type":"string","format":"uuid","description":"ID de la categoría asociada","example":"987fcdeb-51a2-43d1-a5c6-987654321000"},"categoryName":{"type":"string","description":"Nombre de la categoría asociada","example":"Electrónica"},"rating":{"$ref":"#/components/schemas/RatingResponse","description":"Calificación del producto"},"image":{"type":"string","description":"URL de la imagen","example":"https://example.com/images/s23.jpg"}}},"RatingResponse":{"type":"object","description":"Detalles de la calificación del producto","properties":{"rate":{"type":"number","format":"double","description":"Puntuación promedio (0-5)","example":4.5},"count":{"type":"integer","format":"int32","description":"Cantidad total de votos","example":120}}},"ApiError":{"type":"object","description":"Estructura estandarizada para reportar errores de la API","properties":{"status":{"type":"integer","format":"int32","description":"Código de estado HTTP","example":400},"error":{"type":"string","description":"Descripción corta del error HTTP","example":"Bad Request"},"message":{"type":"string","description":"Mensaje detallado del error o lista de validaciones fallidas","example":"El precio debe ser mayor a 0"},"path":{"type":"string","description":"URI del recurso solicitado donde ocurrió el error","example":"/api/products"},"timestamp":{"type":"string","format":"date-time","description":"Marca de tiempo del error","example":"2023-10-01T12:00:00Z"}}},"CategoryUpdateRequest":{"type":"object","description":"Datos para actualizar una categoría existente","properties":{"name":{"type":"string","description":"Nuevo nombre de la categoría.","example":"Hogar y Jardín"}},"required":["name"]},"CategoryResponse":{"type":"object","description":"Representación de una categoría","properties":{"id":{"type":"string","format":"uuid","description":"Identificador único de la categoría","example":"987fcdeb-51a2-43d1-a5c6-987654321000"},"name":{"type":"string","description":"Nombre de la categoría","example":"Electrónica"}}},"CreateProductRequest":{"type":"object","description":"Datos requeridos para crear un nuevo producto","properties":{"title":{"type":"string","description":"Título del producto","example":"Smartphone Samsung Galaxy S23","maxLength":100,"minLength":3},"description":{"type":"string","description":"Descripción detallada del producto","example":"Teléfono móvil con 256GB de almacenamiento, 8GB RAM, color negro.","maxLength":1000,"minLength":0},"price":{"type":"number","description":"Precio unitario del producto. Debe ser mayor a 0.","example":899.99},"stock":{"type":"integer","format":"int32","description":"Cantidad de stock disponible. No puede ser negativo.","example":50,"minimum":0},"categoryId":{"type":"string","format":"uuid","description":"ID único de la categoría a la que pertenece el producto","example":"123e4567-e89b-12d3-a456-426614174000"},"rating":{"type":"number","format":"double","description":"Calificación inicial del producto (0-5)","example":4.5,"maximum":5,"minimum":0},"image":{"type":"string","description":"URL de la imagen del producto","example":"https://example.com/images/s23.jpg"}},"required":["categoryId","price","stock","title"]},"CategoryCreateRequest":{"type":"object","description":"Datos para crear una nueva categoría","properties":{"name":{"type":"string","description":"Nombre de la categoría. Debe ser único.","example":"Electrónica","maxLength":50,"minLength":3}},"required":["name"]},"UpdateStockRequest":{"type":"object","description":"Solicitud para actualizar únicamente el stock de un producto","properties":{"stock":{"type":"integer","format":"int32","description":"Nueva cantidad de stock disponible. No puede ser negativo.","example":100,"minimum":0}},"required":["stock"]},"PageProductResponse":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"empty":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"ProductAudit":{"type":"object","description":"Registro de auditoría de operaciones sobre productos","properties":{"id":{"type":"string","description":"Identificador único del registro de auditoría (MongoDB ID)","example":"64f1a2b3c4d5e6f7a8b9c0d1"},"productId":{"type":"string","format":"uuid","description":"ID del producto afectado","example":"123e4567-e89b-12d3-a456-426614174000"},"action":{"type":"string","description":"Tipo de acción realizada","enum":["CREATE","UPDATE","DELETE","STOCK_UPDATE"],"example":"CREATE"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento","example":"2023-10-01T12:00:00Z"},"details":{"type":"object","additionalProperties":{"type":"object"},"description":"Detalles del cambio (pares clave-valor)","example":{"price":99.99,"stock":10}}}}}}}